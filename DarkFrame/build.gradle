
plugins {
    id 'java'
    id "org.jetbrains.kotlin.jvm"
    id "com.github.johnrengelman.shadow" version "2.0.4"
}

repositories {
    //mavenLocal()
    mavenCentral()
    jcenter()
    google()
    maven { url = ("http://nexus.hc.to/content/repositories/pub_releases/") }
    maven { url = ("https://hub.spigotmc.org/nexus/content/groups/public/") }
    maven { url = ("https://hub.spigotmc.org/nexus/content/repositories/snapshots/") }
    maven { url = ("https://oss.sonatype.org/content/groups/public/") }
    maven { url = ("https://oss.sonatype.org/content/repositories/snapshots/") }
    maven { url = ("http://repo.dmulloy2.net/content/groups/public/") }
    maven { url = ("https://repo.velocitypowered.com/snapshots/") }
    maven { url = ("http://repo.spongepowered.org/maven") }
}

configurations {
    // configuration that holds jars to include in the jar
    jarLibs
}

dependencies {

    compile(project(":Darkness"))
    compile(project(":APIs:Modules:Modules-Common"))

    testCompile "org.jetbrains.kotlin:kotlin-test"
    testCompile "org.jetbrains.kotlin:kotlin-test-junit5"
    testCompile "org.mockito:mockito-all:2.0.2-beta"
    testCompile "org.junit.jupiter:junit-jupiter-api:5.3.1"

    compile "org.spigotmc:spigot-api:1.8.8-R0.1-SNAPSHOT"
    compile "net.md-5:bungeecord-api:1.8-SNAPSHOT"
    compile "com.velocitypowered:velocity-api:1.0-SNAPSHOT"

    jarLibs "org.jetbrains.kotlin:kotlin-stdlib"
    jarLibs "org.jetbrains.kotlin:kotlin-reflect"
    jarLibs "org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.1"
    jarLibs "org.mongodb:mongodb-driver-async:3.8.0"
    jarLibs "com.google.inject:guice:4.0"
}


jar {
    from {
        configurations.jarLibs.collect { it.isDirectory() ? it : zipTree(it) }
    }
}